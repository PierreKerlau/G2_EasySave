<Window x:Class="Livrable1.View.ViewExecuteBackup"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Execute a Backup" Height="450" Width="800">
    <Grid Background="{StaticResource BackgroundBrush}">
        <!-- Main title -->
        <Label Content="EasySave" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="36" Foreground="{StaticResource PrimaryBrush}" FontWeight="Bold" Margin="0,20,0,0"/>

        <!-- Subtitle -->
        <Label x:Name="LabelMainViewExecuteBackup" Content="Execute backup jobs" 
               HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="18"
               Foreground="{StaticResource TextBrush}" Margin="0,80,0,0"/>

        <!-- DataGrid to display backups -->
        <DataGrid x:Name="DataGridBackups"
                  ItemsSource="{Binding Backups}"
                  AutoGenerateColumns="False"
                  Margin="50,120,50,100"
                  Background="White"
                  BorderBrush="{StaticResource SecondaryBrush}"
                  BorderThickness="1"
                  RowBackground="{StaticResource BackgroundBrush}"
                  AlternatingRowBackground="{StaticResource SecondaryBrush}"
                  HeadersVisibility="Column"
                  IsReadOnly="False">
            <DataGrid.Columns>
                <DataGridCheckBoxColumn x:Name="NameColumn" Header="✓" Binding="{Binding IsSelected}" Width="Auto"/>
                <DataGridTextColumn x:Name="SourceColumn" Header="Name" Binding="{Binding NameSave}" Width="*"/>
                <DataGridTextColumn x:Name="DestinationColumn" Header="Source" Binding="{Binding SourcePath}" Width="*"/>
                <DataGridTextColumn x:Name="BackupDestinationColumn" Header="Destination" Binding="{Binding DestinationPath}" Width="*"/>
                <DataGridTemplateColumn x:Name="ProgressColumn" Header="Progress" Width="*">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <ProgressBar Value="{Binding Progression}" Minimum="0" Maximum="100" Height="20"
                                         Background="{StaticResource SecondaryBrush}"
                                         Foreground="{StaticResource PrimaryBrush}"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <!-- Actions column -->
                <DataGridTemplateColumn x:Name="ActionColumn" Header="Actions" Width="*">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <!-- Pause button -->
                                <Button Click="PauseBackup_Click" Margin="2" Style="{StaticResource {x:Type Button}}">
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="16" Height="16">
                                            <Canvas Width="24" Height="24">
                                                <Path Data="M6,4 H10 V20 H6 Z M14,4 H18 V20 H14 Z" Fill="{StaticResource TextBrush}"/>
                                            </Canvas>
                                        </Viewbox>
                                    </StackPanel>
                                </Button>

                                <!-- Resume button -->
                                <Button Click="ResumeBackup_Click" Margin="2" Style="{StaticResource {x:Type Button}}">
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="16" Height="16">
                                            <Canvas Width="24" Height="24">
                                                <Path Data="M8,5 L19,12 L8,19 Z" Fill="{StaticResource TextBrush}"/>
                                            </Canvas>
                                        </Viewbox>
                                    </StackPanel>
                                </Button>

                                <!-- Stop button -->
                                <Button Click="StopBackup_Click" Margin="2" Style="{StaticResource {x:Type Button}}">
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="16" Height="16">
                                            <Canvas Width="24" Height="24">
                                                <Path Data="M5,5 H19 V19 H5 Z" Fill="{StaticResource TextBrush}"/>
                                            </Canvas>
                                        </Viewbox>
                                    </StackPanel>
                                </Button>

                                <!-- Delete button -->
                                <!-- <Button Click="DeleteBackup_Click" Margin="2" Style="{StaticResource {x:Type Button}}">
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="16" Height="16">
                                            <Canvas Width="24" Height="24">
                                                <Path Data="M6,6 L18,18 M18,6 L6,18" Stroke="{StaticResource TextBrush}" StrokeThickness="2"/>
                                            </Canvas>
                                        </Viewbox>
                                    </StackPanel>
                                </Button> -->
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Backup type selector -->
        <ComboBox x:Name="BackupTypeSelector" HorizontalAlignment="Left" Margin="50,350,0,0" VerticalAlignment="Top" Width="200"
                  Style="{StaticResource {x:Type ComboBox}}">
            <ComboBoxItem Content="Full Backup"/>
            <ComboBoxItem Content="Differential Backup"/>
        </ComboBox>

        <!-- Execute button -->
        <Button x:Name="ButtonExecute" Content="Execute" HorizontalAlignment="Left" Margin="280,350,0,0" VerticalAlignment="Top"
                Click="ButtonExecute_Click" Style="{StaticResource {x:Type Button}}" Width="100"/>

        <!-- Exit button -->
        <Button x:Name="ButtonLeave" Content="Exit" HorizontalAlignment="Left" Margin="390,350,0,0" VerticalAlignment="Top"
                Click="ButtonLeave_Click_1" Style="{StaticResource {x:Type Button}}" Width="100"/>
    </Grid>
</Window>